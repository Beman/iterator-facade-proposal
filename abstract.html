<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>iterator-facade-abstract</title>
</head>

<body>

<p>Iterators that conform to the requirements of the C++ standard library are 
tedious to write and difficult to write correctly. Conforming iterators are 
tedious to write because although they require only a small number of core 
functions, they also require a larger number of subsidiary functions and other 
boilerplate. Conforming iterators are difficult to write correctly because each 
iterator category has a subtly differing set of function and other requirements, 
and it is all too easy to forget subsidiary functions or other boilerplate; such 
errors are often silent, sometime for years.</p>
<p>It has been recognized since the earliest days of C++98 that it should be 
possible to write a single template class that provides a fully conforming 
iterator given only a few template arguments and a small number of core 
functions. The Boost <code>iterator_facade</code> class template does something 
very close to that and has been in wide use since
<span style="background-color: #FFFF00">200x</span>.
<span style="background-color: #FFFF00">Nxxxx</span> was an attempt to add an 
iterator facade template to the standard library. It failed despite heroic 
efforts because the core language and standard library at that time were not 
rich enough to express the full set of requirements, let alone in a way that 
would avoid breaking existing code.</p>
<p>This paper proposes an iterator facade class template for the standard 
library. The C++11/14/17 core language with the addition of Concepts plus the 
standard library Ranges proposals already before the committee allow 
straightforward specification of an iterator facade class template. Only routine 
effort to specify, implement, understand, and use the proposed class is 
required.</p>
<p>The proposal breaks no existing code, requires only the changes to the 
standard already in the Concepts and Ranges proposals, and has an open-source 
implementation publicly available.</p>

</body>

</html>
